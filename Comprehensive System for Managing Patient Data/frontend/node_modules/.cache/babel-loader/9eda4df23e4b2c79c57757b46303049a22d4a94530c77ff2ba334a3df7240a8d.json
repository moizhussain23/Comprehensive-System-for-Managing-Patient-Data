{"ast":null,"code":"import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);// Toggle State for Password Visibility\nconst[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();setLoading(true);setError(\"\");try{const response=await fetch(\"http://localhost:5000/api/auth/receptionist-login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data=await response.json();if(!response.ok){throw new Error(data.error||\"Login failed\");}localStorage.setItem(\"token\",data.token);localStorage.setItem(\"role\",data.user.role);// Redirect to Receptionist Dashboard\nif(data.user.role===\"receptionist\"){navigate(\"/dashboard\");}else if(data.user.role===\"doctor\"){navigate(\"/doctor-dashboard\");}else{throw new Error(\"Invalid role\");}}catch(err){setError(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-blue-600 flex flex-col items-center justify-center relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-[800px] h-[800px] rounded-full border-[60px] border-blue-500/30\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md z-10 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Hospital Logo\",className:\"w-20 h-20 mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-blue-600 text-xl font-medium mb-8\",children:\"Receptionist Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-full space-y-6\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full border-b border-gray-300 py-2 focus:outline-none focus:border-blue-600\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\"//  Toggle Password Visibility\n,placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full border-b border-gray-300 py-2 pr-10 focus:outline-none focus:border-blue-600\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-2 text-gray-500\",onMouseDown:()=>setShowPassword(true),onMouseUp:()=>setShowPassword(false),onMouseLeave:()=>setShowPassword(false),onTouchStart:()=>setShowPassword(true)//  Mobile Support\n,onTouchEnd:()=>setShowPassword(false)//  Mobile Support\n,children:showPassword?/*#__PURE__*/// Eye Open (Password Visible)\n_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:2,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 4.5c-5.8 0-10.5 4.5-10.5 7s4.7 7 10.5 7 10.5-4.5 10.5-7-4.7-7-10.5-7zm0 3c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z\"})}):/*#__PURE__*/// Eye Closed (Password Hidden)\n_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:2,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M3 12s3.5-7 9-7 9 7 9 7-3.5 7-9 7-9-7-9-7zm9-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-6.5 0L3 12m6 6l8.5-8.5m-3.5 3.5L21 12\"})})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white py-3 uppercase font-medium hover:bg-blue-700 transition\",disabled:loading,children:loading?\"Logging in...\":\"Login\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-center mt-8 max-w-md px-4 z-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\xA9 2025 Comprehensive System for Managing Patient Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"Securely manage patient records and streamline operations.\"})]})]});}","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginPage","email","setEmail","password","setPassword","showPassword","setShowPassword","error","setError","loading","setLoading","navigate","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","localStorage","setItem","token","user","role","err","message","className","children","src","alt","onSubmit","type","placeholder","value","onChange","target","required","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchEnd","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","disabled"],"sources":["D:/Comprehensive System for Managing Patient Data/Comprehensive System for Managing Patient Data/frontend/src/pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false); // Toggle State for Password Visibility\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/auth/receptionist-login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Login failed\");\r\n      }\r\n\r\n      localStorage.setItem(\"token\", data.token);\r\n      localStorage.setItem(\"role\", data.user.role);\r\n\r\n\r\n      // Redirect to Receptionist Dashboard\r\n      if (data.user.role === \"receptionist\") {\r\n        navigate(\"/dashboard\");\r\n      } else if (data.user.role === \"doctor\") {\r\n        navigate(\"/doctor-dashboard\");\r\n      } else {\r\n        throw new Error(\"Invalid role\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-blue-600 flex flex-col items-center justify-center relative overflow-hidden\">\r\n      {/* Background Circular Gradient */}\r\n      <div className=\"absolute inset-0 flex items-center justify-center\">\r\n        <div className=\"w-[800px] h-[800px] rounded-full border-[60px] border-blue-500/30\"></div>\r\n      </div>\r\n\r\n      {/* Login Card */}\r\n      <div className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md z-10 flex flex-col items-center\">\r\n        {/* Logo */}\r\n        <img src=\"/logo.png\" alt=\"Hospital Logo\" className=\"w-20 h-20 mb-4\" />\r\n\r\n        <h1 className=\"text-blue-600 text-xl font-medium mb-8\">Receptionist Login</h1>\r\n\r\n        {/* Error Message */}\r\n        {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n\r\n        {/* Login Form */}\r\n        <form className=\"w-full space-y-6\" onSubmit={handleLogin}>\r\n          <div>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full border-b border-gray-300 py-2 focus:outline-none focus:border-blue-600\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <input\r\n              type={showPassword ? \"text\" : \"password\"} //  Toggle Password Visibility\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full border-b border-gray-300 py-2 pr-10 focus:outline-none focus:border-blue-600\"\r\n              required\r\n            />\r\n            \r\n            {/*  Eye Icon for Toggle Password Visibility */}\r\n            <button\r\n              type=\"button\"\r\n              className=\"absolute right-2 top-2 text-gray-500\"\r\n              onMouseDown={() => setShowPassword(true)}\r\n              onMouseUp={() => setShowPassword(false)}\r\n              onMouseLeave={() => setShowPassword(false)}\r\n              onTouchStart={() => setShowPassword(true)}  //  Mobile Support\r\n              onTouchEnd={() => setShowPassword(false)}  //  Mobile Support\r\n            >\r\n              {showPassword ? (\r\n                // Eye Open (Password Visible)\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  strokeWidth={2}\r\n                  stroke=\"currentColor\"\r\n                  className=\"w-6 h-6\"\r\n                >\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5c-5.8 0-10.5 4.5-10.5 7s4.7 7 10.5 7 10.5-4.5 10.5-7-4.7-7-10.5-7zm0 3c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z\" />\r\n                </svg>\r\n              ) : (\r\n                // Eye Closed (Password Hidden)\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  strokeWidth={2}\r\n                  stroke=\"currentColor\"\r\n                  className=\"w-6 h-6\"\r\n                >\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 12s3.5-7 9-7 9 7 9 7-3.5 7-9 7-9-7-9-7zm9-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-6.5 0L3 12m6 6l8.5-8.5m-3.5 3.5L21 12\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-blue-600 text-white py-3 uppercase font-medium hover:bg-blue-700 transition\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Logging in...\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"text-white text-center mt-8 max-w-md px-4 z-10\">\r\n        <p className=\"text-sm\">Â© 2025 Comprehensive System for Managing Patient Data</p>\r\n        <p className=\"text-sm mt-1\">\r\n          Securely manage patient records and streamline operations.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}