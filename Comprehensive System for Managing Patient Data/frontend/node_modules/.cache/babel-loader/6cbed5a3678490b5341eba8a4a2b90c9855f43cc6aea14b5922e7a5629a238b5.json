{"ast":null,"code":"import{useEffect,useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function PatientDashboard(){const[patientData,setPatientData]=useState(null);const[upcomingAppointment,setUpcomingAppointment]=useState(null);const[isLoading,setIsLoading]=useState(true);const[showLogoutConfirm,setShowLogoutConfirm]=useState(false);const navigate=useNavigate();const[prescriptions,setPrescriptions]=useState([]);const[selectedPrescription,setSelectedPrescription]=useState(null);const[activeTab,setActiveTab]=useState(\"profile\");// \"profile\", \"medical\", \"prescriptions\"\n// Fetch Patient Data\nconst fetchPatientData=useCallback(async()=>{try{setIsLoading(true);const token=localStorage.getItem(\"token\");if(!token){navigate(\"/patient-login\");return;}// Fetch profile data\nconst profileResponse=await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/profile`,{headers:{Authorization:`Bearer ${token}`}});if(!profileResponse.ok){const errorData=await profileResponse.json();throw new Error(errorData.error||\"Failed to fetch profile data\");}const profileData=await profileResponse.json();setPatientData(profileData);// Fetch prescription data\nconst prescriptionsResponse=await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/prescriptions`,{headers:{Authorization:`Bearer ${token}`}});if(prescriptionsResponse.ok){const prescriptionsData=await prescriptionsResponse.json();console.log(\"Prescriptions data:\",prescriptionsData);if(prescriptionsData&&prescriptionsData.prescriptions){setPrescriptions(prescriptionsData.prescriptions);}else{setPrescriptions([]);console.error(\"Invalid prescriptions data format:\",prescriptionsData);}}// Fetch upcoming visit\nconst visitsResponse=await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/visits`,{headers:{Authorization:`Bearer ${token}`}});if(visitsResponse.ok){const visitsData=await visitsResponse.json();setUpcomingAppointment(visitsData.upcomingVisit);}}catch(error){console.error(\"Error fetching patient data:\",error);alert(\"Failed to load patient data.\");navigate(\"/patient-login\");}finally{setIsLoading(false);}},[navigate]);useEffect(()=>{fetchPatientData();},[fetchPatientData]);// Logout Functions\nconst initiateLogout=()=>{setShowLogoutConfirm(true);};const confirmLogout=()=>{localStorage.removeItem(\"token\");navigate(\"/\");};const cancelLogout=()=>{setShowLogoutConfirm(false);};// Prescription component to display details\nconst PrescriptionDetails=_ref=>{let{prescription}=_ref;if(!prescription)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 pb-2 border-b\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-lg\",children:[\"Prescription: \",prescription.formatted_date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Prescribed by Dr. \",prescription.doctor_name]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\",children:\"Medication\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\",children:\"Dosage\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\",children:\"Frequency\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\",children:\"Duration\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\",children:\"Instructions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:prescription&&prescription.medicines&&prescription.medicines.length>0?prescription.medicines.map((medicine,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-sm font-medium\",children:medicine.medication}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-sm\",children:medicine.dosage}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-sm\",children:medicine.frequency}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-sm\",children:medicine.duration}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-sm\",children:medicine.instructions})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"py-4 text-center text-gray-500\",children:\"No medications found\"})})})]})})]});};// Show Loading Screen\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600 font-medium\",children:\"Loading your information...\"})]})});}// Show Error Message if No Data is Fetched\nif(!patientData){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-6 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium mb-4\",children:\"Unable to load patient data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchPatientData,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-4\",children:\"Retry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/patient-login\"),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"Return to Login\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen bg-gray-50\",children:[showLogoutConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Confirm Logout\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6\",children:\"Are you sure you want to logout from your account?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelLogout,className:\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmLogout,className:\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition\",children:\"Yes, Logout\"})]})]})}),/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"Patient Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[patientData&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 mr-4\",children:[\"Welcome, \",patientData.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:initiateLogout,className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium\",children:\"Logout\"})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-4 md:col-span-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-4 rounded-t-lg mb-4\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"My Information\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 text-2xl font-bold\",children:patientData.name.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium\",children:patientData.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:patientData.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Age:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[patientData.age,\" years\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Gender:\"}),/*#__PURE__*/_jsx(\"span\",{children:patientData.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:patientData.phone})]})]})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"profile\"),className:`w-full text-left p-3 rounded-md mb-2 ${activeTab===\"profile\"?'bg-blue-100 border-l-4 border-blue-500':'hover:bg-gray-100 border-l-4 border-transparent'}`,children:\"Personal Information\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"medical\"),className:`w-full text-left p-3 rounded-md mb-2 ${activeTab===\"medical\"?'bg-green-100 border-l-4 border-green-500':'hover:bg-gray-100 border-l-4 border-transparent'}`,children:\"Medical Information\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"prescriptions\"),className:`w-full text-left p-3 rounded-md mb-2 ${activeTab===\"prescriptions\"?'bg-purple-100 border-l-4 border-purple-500':'hover:bg-gray-100 border-l-4 border-transparent'}`,children:\"Prescriptions\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-4 md:col-span-3\",children:[activeTab===\"profile\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white\",children:\"Personal Information\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 font-medium\",children:patientData.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 font-medium\",children:patientData.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 font-medium\",children:patientData.phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 font-medium\",children:patientData.address||\"No address provided\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Age\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 font-medium\",children:[patientData.age,\" years\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 font-medium\",children:patientData.gender})]})]})})]}),activeTab===\"medical\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white\",children:\"Medical Information\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-3\",children:\"Medical History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:patientData.medical_history?/*#__PURE__*/_jsx(\"p\",{children:patientData.medical_history}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic\",children:\"No medical history available\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 mb-3\",children:\"Upcoming Appointment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:upcomingAppointment?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"Date: \",upcomingAppointment.formatted_visit_date]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Doctor: Dr. \",upcomingAppointment.doctor_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Purpose: \",upcomingAppointment.purpose||\"Regular checkup\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic\",children:\"No upcoming appointments scheduled\"})})]})]})})]}),activeTab===\"prescriptions\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white\",children:\"Prescriptions\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:prescriptions.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\",children:prescriptions.map(prescription=>/*#__PURE__*/_jsx(\"div\",{className:`p-4 border rounded-lg cursor-pointer ${selectedPrescription&&selectedPrescription.id===prescription.id?'border-purple-500 bg-purple-50':'border-gray-200 hover:bg-gray-50'}`,onClick:()=>setSelectedPrescription(prescription),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:prescription.formatted_date}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Dr. \",prescription.doctor_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-purple-500\",children:[prescription.medicines.length,\" \",prescription.medicines.length===1?'medicine':'medicines']})]})},prescription.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:selectedPrescription?/*#__PURE__*/_jsx(PrescriptionDetails,{prescription:selectedPrescription}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-8 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Select a prescription to view details\"})})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-8 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No prescription records found\"})})})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white border-t mt-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-gray-500\",children:[\"\\xA9 \",new Date().getFullYear(),\" Comprehensive System for Managing Patient Data. All rights reserved.\"]})})})]});}","map":{"version":3,"names":["useEffect","useState","useCallback","useNavigate","jsxs","_jsxs","jsx","_jsx","PatientDashboard","patientData","setPatientData","upcomingAppointment","setUpcomingAppointment","isLoading","setIsLoading","showLogoutConfirm","setShowLogoutConfirm","navigate","prescriptions","setPrescriptions","selectedPrescription","setSelectedPrescription","activeTab","setActiveTab","fetchPatientData","token","localStorage","getItem","profileResponse","fetch","process","env","REACT_APP_SERVER_IP","headers","Authorization","ok","errorData","json","Error","error","profileData","prescriptionsResponse","prescriptionsData","console","log","visitsResponse","visitsData","upcomingVisit","alert","initiateLogout","confirmLogout","removeItem","cancelLogout","PrescriptionDetails","_ref","prescription","className","children","formatted_date","doctor_name","medicines","length","map","medicine","index","medication","dosage","frequency","duration","instructions","colSpan","onClick","name","charAt","toUpperCase","email","age","gender","phone","address","medical_history","formatted_visit_date","purpose","id","Date","getFullYear"],"sources":["D:/Comprehensive System for Managing Patient Data/Comprehensive System for Managing Patient Data/frontend/src/pages/PatientDashboard.js"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function PatientDashboard() {\r\n  const [patientData, setPatientData] = useState(null);\r\n  const [upcomingAppointment, setUpcomingAppointment] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [prescriptions, setPrescriptions] = useState([]);\r\n  const [selectedPrescription, setSelectedPrescription] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(\"profile\"); // \"profile\", \"medical\", \"prescriptions\"\r\n\r\n  // Fetch Patient Data\r\n  const fetchPatientData = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      if (!token) {\r\n        navigate(\"/patient-login\");\r\n        return;\r\n      }\r\n\r\n      // Fetch profile data\r\n      const profileResponse = await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/profile`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!profileResponse.ok) {\r\n        const errorData = await profileResponse.json();\r\n        throw new Error(errorData.error || \"Failed to fetch profile data\");\r\n      }\r\n\r\n      const profileData = await profileResponse.json();\r\n      setPatientData(profileData);\r\n\r\n      // Fetch prescription data\r\n      const prescriptionsResponse = await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/prescriptions`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (prescriptionsResponse.ok) {\r\n        const prescriptionsData = await prescriptionsResponse.json();\r\n        console.log(\"Prescriptions data:\", prescriptionsData);\r\n        \r\n        if (prescriptionsData && prescriptionsData.prescriptions) {\r\n          setPrescriptions(prescriptionsData.prescriptions);\r\n        } else {\r\n          setPrescriptions([]);\r\n          console.error(\"Invalid prescriptions data format:\", prescriptionsData);\r\n        }\r\n      }\r\n\r\n      // Fetch upcoming visit\r\n      const visitsResponse = await fetch(`http://${process.env.REACT_APP_SERVER_IP}:5000/api/patient/visits`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (visitsResponse.ok) {\r\n        const visitsData = await visitsResponse.json();\r\n        setUpcomingAppointment(visitsData.upcomingVisit);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Error fetching patient data:\", error);\r\n      alert(\"Failed to load patient data.\");\r\n      navigate(\"/patient-login\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    fetchPatientData();\r\n  }, [fetchPatientData]);\r\n\r\n  // Logout Functions\r\n  const initiateLogout = () => {\r\n    setShowLogoutConfirm(true);\r\n  };\r\n\r\n  const confirmLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const cancelLogout = () => {\r\n    setShowLogoutConfirm(false);\r\n  };\r\n\r\n  // Prescription component to display details\r\n  const PrescriptionDetails = ({ prescription }) => {\r\n    if (!prescription) return null;\r\n    \r\n    return (\r\n      <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n        <div className=\"mb-4 pb-2 border-b\">\r\n          <h4 className=\"font-medium text-lg\">Prescription: {prescription.formatted_date}</h4>\r\n          <p className=\"text-sm text-gray-600\">Prescribed by Dr. {prescription.doctor_name}</p>\r\n        </div>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-gray-50\">\r\n                <th className=\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\">Medication</th>\r\n                <th className=\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\">Dosage</th>\r\n                <th className=\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\">Frequency</th>\r\n                <th className=\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\">Duration</th>\r\n                <th className=\"text-left py-3 px-4 font-semibold text-sm text-gray-600 border-b\">Instructions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {prescription && prescription.medicines && prescription.medicines.length > 0 ? (\r\n                prescription.medicines.map((medicine, index) => (\r\n                  <tr key={index} className=\"border-b hover:bg-gray-50\">\r\n                    <td className=\"py-3 px-4 text-sm font-medium\">{medicine.medication}</td>\r\n                    <td className=\"py-3 px-4 text-sm\">{medicine.dosage}</td>\r\n                    <td className=\"py-3 px-4 text-sm\">{medicine.frequency}</td>\r\n                    <td className=\"py-3 px-4 text-sm\">{medicine.duration}</td>\r\n                    <td className=\"py-3 px-4 text-sm\">{medicine.instructions}</td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"5\" className=\"py-4 text-center text-gray-500\">\r\n                    No medications found\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Show Loading Screen\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600 font-medium\">Loading your information...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show Error Message if No Data is Fetched\r\n  if (!patientData) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center p-6 bg-white rounded-lg shadow-md\">\r\n          <p className=\"text-red-600 font-medium mb-4\">Unable to load patient data</p>\r\n          <button onClick={fetchPatientData} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-4\">\r\n            Retry\r\n          </button>\r\n          <button onClick={() => navigate(\"/patient-login\")} className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\">\r\n            Return to Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-50\">\r\n      {/* Logout Confirmation Modal */}\r\n      {showLogoutConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-md w-full\">\r\n            <h3 className=\"text-xl font-semibold mb-4\">Confirm Logout</h3>\r\n            <p className=\"mb-6\">Are you sure you want to logout from your account?</p>\r\n            <div className=\"flex justify-end space-x-4\">\r\n              <button \r\n                onClick={cancelLogout}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={confirmLogout}\r\n                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition\"\r\n              >\r\n                Yes, Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">Patient Dashboard</h1>\r\n          <div className=\"flex items-center\">\r\n            {patientData && (\r\n              <span className=\"text-gray-600 mr-4\">\r\n                Welcome, {patientData.name}\r\n              </span>\r\n            )}\r\n            <button\r\n              onClick={initiateLogout}\r\n              className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n          {/* Left sidebar - Patient Information */}\r\n          <div className=\"bg-white shadow-md rounded-lg p-4 md:col-span-1\">\r\n            <div className=\"bg-blue-500 p-4 rounded-t-lg mb-4\">\r\n              <h2 className=\"text-xl font-bold text-white\">My Information</h2>\r\n            </div>\r\n            \r\n            {/* Patient Basic Info */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex items-center justify-center mb-4\">\r\n                <div className=\"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 text-2xl font-bold\">\r\n                  {patientData.name.charAt(0).toUpperCase()}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center mb-4\">\r\n                <h3 className=\"text-lg font-medium\">{patientData.name}</h3>\r\n                <p className=\"text-gray-500\">{patientData.email}</p>\r\n              </div>\r\n              \r\n              <div className=\"border-t pt-4\">\r\n                <div className=\"flex justify-between mb-2\">\r\n                  <span className=\"text-gray-500\">Age:</span>\r\n                  <span>{patientData.age} years</span>\r\n                </div>\r\n                <div className=\"flex justify-between mb-2\">\r\n                  <span className=\"text-gray-500\">Gender:</span>\r\n                  <span>{patientData.gender}</span>\r\n                </div>\r\n                <div className=\"flex justify-between mb-2\">\r\n                  <span className=\"text-gray-500\">Phone:</span>\r\n                  <span>{patientData.phone}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Navigation */}\r\n            <nav className=\"mt-6\">\r\n              <button \r\n                onClick={() => setActiveTab(\"profile\")}\r\n                className={`w-full text-left p-3 rounded-md mb-2 ${\r\n                  activeTab === \"profile\" \r\n                    ? 'bg-blue-100 border-l-4 border-blue-500' \r\n                    : 'hover:bg-gray-100 border-l-4 border-transparent'\r\n                }`}\r\n              >\r\n                Personal Information\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab(\"medical\")}\r\n                className={`w-full text-left p-3 rounded-md mb-2 ${\r\n                  activeTab === \"medical\" \r\n                    ? 'bg-green-100 border-l-4 border-green-500' \r\n                    : 'hover:bg-gray-100 border-l-4 border-transparent'\r\n                }`}\r\n              >\r\n                Medical Information\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab(\"prescriptions\")}\r\n                className={`w-full text-left p-3 rounded-md mb-2 ${\r\n                  activeTab === \"prescriptions\" \r\n                    ? 'bg-purple-100 border-l-4 border-purple-500' \r\n                    : 'hover:bg-gray-100 border-l-4 border-transparent'\r\n                }`}\r\n              >\r\n                Prescriptions\r\n              </button>\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Main content area */}\r\n          <div className=\"bg-white shadow-md rounded-lg p-4 md:col-span-3\">\r\n            {/* Profile Tab */}\r\n            {activeTab === \"profile\" && (\r\n              <div>\r\n                <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-t-lg\">\r\n                  <h3 className=\"text-xl font-semibold text-white\">Personal Information</h3>\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Full Name</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Email Address</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.email}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Phone Number</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.phone}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Address</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.address || \"No address provided\"}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Age</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.age} years</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500\">Gender</p>\r\n                      <p className=\"mt-1 font-medium\">{patientData.gender}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Medical Info Tab */}\r\n            {activeTab === \"medical\" && (\r\n              <div>\r\n                <div className=\"bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-t-lg\">\r\n                  <h3 className=\"text-xl font-semibold text-white\">Medical Information</h3>\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  <div className=\"space-y-6\">\r\n                    <div>\r\n                     <h4 className=\"text-lg font-medium text-gray-800 mb-3\">Medical History</h4>\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        {patientData.medical_history ? (\r\n                          <p>{patientData.medical_history}</p>\r\n                        ) : (\r\n                          <p className=\"text-gray-500 italic\">No medical history available</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <h4 className=\"text-lg font-medium text-gray-800 mb-3\">Upcoming Appointment</h4>\r\n                      <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                        {upcomingAppointment ? (\r\n                          <div>\r\n                            <p className=\"font-medium\">Date: {upcomingAppointment.formatted_visit_date}</p>\r\n                            <p>Doctor: Dr. {upcomingAppointment.doctor_name}</p>\r\n                            <p>Purpose: {upcomingAppointment.purpose || \"Regular checkup\"}</p>\r\n                          </div>\r\n                        ) : (\r\n                          <p className=\"text-gray-500 italic\">No upcoming appointments scheduled</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Prescriptions Tab */}\r\n            {activeTab === \"prescriptions\" && (\r\n              <div>\r\n                <div className=\"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-t-lg\">\r\n                  <h3 className=\"text-xl font-semibold text-white\">Prescriptions</h3>\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  {prescriptions.length > 0 ? (\r\n                    <div className=\"space-y-6\">\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n                        {prescriptions.map((prescription) => (\r\n                          <div \r\n                            key={prescription.id} \r\n                            className={`p-4 border rounded-lg cursor-pointer ${\r\n                              selectedPrescription && selectedPrescription.id === prescription.id\r\n                                ? 'border-purple-500 bg-purple-50'\r\n                                : 'border-gray-200 hover:bg-gray-50'\r\n                            }`}\r\n                            onClick={() => setSelectedPrescription(prescription)}\r\n                          >\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <div>\r\n                                <h4 className=\"font-medium\">{prescription.formatted_date}</h4>\r\n                                <p className=\"text-sm text-gray-500\">Dr. {prescription.doctor_name}</p>\r\n                              </div>\r\n                              <div className=\"text-purple-500\">\r\n                                {prescription.medicines.length} {prescription.medicines.length === 1 ? 'medicine' : 'medicines'}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      \r\n                      <div className=\"mt-8\">\r\n                        {selectedPrescription ? (\r\n                          <PrescriptionDetails prescription={selectedPrescription} />\r\n                        ) : (\r\n                          <div className=\"text-center p-8 bg-gray-50 rounded-lg\">\r\n                            <p className=\"text-gray-500\">Select a prescription to view details</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center p-8 bg-gray-50 rounded-lg\">\r\n                      <p className=\"text-gray-500\">No prescription records found</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-white border-t mt-auto\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <p className=\"text-center text-sm text-gray-500\">\r\n            &copy; {new Date().getFullYear()} Comprehensive System for Managing Patient Data. All rights reserved.\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE/C,cAAe,SAAS,CAAAC,gBAAgBA,CAAA,CAAG,CACzC,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACU,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACpE,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACc,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACmB,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CACtE,KAAM,CAACqB,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,SAAS,CAAC,CAAE;AAEvD;AACA,KAAM,CAAAuB,gBAAgB,CAAGtB,WAAW,CAAC,SAAY,CAC/C,GAAI,CACFY,YAAY,CAAC,IAAI,CAAC,CAClB,KAAM,CAAAW,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CAACF,KAAK,CAAE,CACVR,QAAQ,CAAC,gBAAgB,CAAC,CAC1B,OACF,CAEA;AACA,KAAM,CAAAW,eAAe,CAAG,KAAM,CAAAC,KAAK,CAAC,UAAUC,OAAO,CAACC,GAAG,CAACC,mBAAmB,2BAA2B,CAAE,CACxGC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUT,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,GAAI,CAACG,eAAe,CAACO,EAAE,CAAE,CACvB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,eAAe,CAACS,IAAI,CAAC,CAAC,CAC9C,KAAM,IAAI,CAAAC,KAAK,CAACF,SAAS,CAACG,KAAK,EAAI,8BAA8B,CAAC,CACpE,CAEA,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAZ,eAAe,CAACS,IAAI,CAAC,CAAC,CAChD3B,cAAc,CAAC8B,WAAW,CAAC,CAE3B;AACA,KAAM,CAAAC,qBAAqB,CAAG,KAAM,CAAAZ,KAAK,CAAC,UAAUC,OAAO,CAACC,GAAG,CAACC,mBAAmB,iCAAiC,CAAE,CACpHC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUT,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,GAAIgB,qBAAqB,CAACN,EAAE,CAAE,CAC5B,KAAM,CAAAO,iBAAiB,CAAG,KAAM,CAAAD,qBAAqB,CAACJ,IAAI,CAAC,CAAC,CAC5DM,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEF,iBAAiB,CAAC,CAErD,GAAIA,iBAAiB,EAAIA,iBAAiB,CAACxB,aAAa,CAAE,CACxDC,gBAAgB,CAACuB,iBAAiB,CAACxB,aAAa,CAAC,CACnD,CAAC,IAAM,CACLC,gBAAgB,CAAC,EAAE,CAAC,CACpBwB,OAAO,CAACJ,KAAK,CAAC,oCAAoC,CAAEG,iBAAiB,CAAC,CACxE,CACF,CAEA;AACA,KAAM,CAAAG,cAAc,CAAG,KAAM,CAAAhB,KAAK,CAAC,UAAUC,OAAO,CAACC,GAAG,CAACC,mBAAmB,0BAA0B,CAAE,CACtGC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUT,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,GAAIoB,cAAc,CAACV,EAAE,CAAE,CACrB,KAAM,CAAAW,UAAU,CAAG,KAAM,CAAAD,cAAc,CAACR,IAAI,CAAC,CAAC,CAC9CzB,sBAAsB,CAACkC,UAAU,CAACC,aAAa,CAAC,CAClD,CAEF,CAAE,MAAOR,KAAK,CAAE,CACdI,OAAO,CAACJ,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDS,KAAK,CAAC,8BAA8B,CAAC,CACrC/B,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAC,OAAS,CACRH,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAE,CAACG,QAAQ,CAAC,CAAC,CAEdjB,SAAS,CAAC,IAAM,CACdwB,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAEtB;AACA,KAAM,CAAAyB,cAAc,CAAGA,CAAA,GAAM,CAC3BjC,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAkC,aAAa,CAAGA,CAAA,GAAM,CAC1BxB,YAAY,CAACyB,UAAU,CAAC,OAAO,CAAC,CAChClC,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,KAAM,CAAAmC,YAAY,CAAGA,CAAA,GAAM,CACzBpC,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CAAC,CAED;AACA,KAAM,CAAAqC,mBAAmB,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CAC3C,GAAI,CAACC,YAAY,CAAE,MAAO,KAAI,CAE9B,mBACElD,KAAA,QAAKmD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpD,KAAA,QAAKmD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCpD,KAAA,OAAImD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAAC,gBAAc,CAACF,YAAY,CAACG,cAAc,EAAK,CAAC,cACpFrD,KAAA,MAAGmD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,oBAAkB,CAACF,YAAY,CAACI,WAAW,EAAI,CAAC,EAClF,CAAC,cAENpD,IAAA,QAAKiD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BpD,KAAA,UAAOmD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACvClD,IAAA,UAAAkD,QAAA,cACEpD,KAAA,OAAImD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxBlD,IAAA,OAAIiD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAChGlD,IAAA,OAAIiD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cAC5FlD,IAAA,OAAIiD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cAC/FlD,IAAA,OAAIiD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC9FlD,IAAA,OAAIiD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,EAChG,CAAC,CACA,CAAC,cACRlD,IAAA,UAAAkD,QAAA,CACGF,YAAY,EAAIA,YAAY,CAACK,SAAS,EAAIL,YAAY,CAACK,SAAS,CAACC,MAAM,CAAG,CAAC,CAC1EN,YAAY,CAACK,SAAS,CAACE,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBACzC3D,KAAA,OAAgBmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACnDlD,IAAA,OAAIiD,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAEM,QAAQ,CAACE,UAAU,CAAK,CAAC,cACxE1D,IAAA,OAAIiD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEM,QAAQ,CAACG,MAAM,CAAK,CAAC,cACxD3D,IAAA,OAAIiD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEM,QAAQ,CAACI,SAAS,CAAK,CAAC,cAC3D5D,IAAA,OAAIiD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEM,QAAQ,CAACK,QAAQ,CAAK,CAAC,cAC1D7D,IAAA,OAAIiD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEM,QAAQ,CAACM,YAAY,CAAK,CAAC,GALvDL,KAML,CACL,CAAC,cAEFzD,IAAA,OAAAkD,QAAA,cACElD,IAAA,OAAI+D,OAAO,CAAC,GAAG,CAACd,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,sBAE3D,CAAI,CAAC,CACH,CACL,CACI,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,GAAI5C,SAAS,CAAE,CACb,mBACEN,IAAA,QAAKiD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEpD,KAAA,QAAKmD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlD,IAAA,QAAKiD,SAAS,CAAC,2FAA2F,CAAM,CAAC,cACjHjD,IAAA,MAAGiD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,6BAA2B,CAAG,CAAC,EAC1E,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI,CAAChD,WAAW,CAAE,CAChB,mBACEF,IAAA,QAAKiD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEpD,KAAA,QAAKmD,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5DlD,IAAA,MAAGiD,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,6BAA2B,CAAG,CAAC,cAC5ElD,IAAA,WAAQgE,OAAO,CAAE/C,gBAAiB,CAACgC,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,OAE/G,CAAQ,CAAC,cACTlD,IAAA,WAAQgE,OAAO,CAAEA,CAAA,GAAMtD,QAAQ,CAAC,gBAAgB,CAAE,CAACuC,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CAAC,iBAE1H,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACEpD,KAAA,QAAKmD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EAEnD1C,iBAAiB,eAChBR,IAAA,QAAKiD,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzFpD,KAAA,QAAKmD,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChElD,IAAA,OAAIiD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC9DlD,IAAA,MAAGiD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,oDAAkD,CAAG,CAAC,cAC1EpD,KAAA,QAAKmD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzClD,IAAA,WACEgE,OAAO,CAAEnB,YAAa,CACtBI,SAAS,CAAC,0EAA0E,CAAAC,QAAA,CACrF,QAED,CAAQ,CAAC,cACTlD,IAAA,WACEgE,OAAO,CAAErB,aAAc,CACvBM,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CACnF,aAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,cAGDlD,IAAA,WAAQiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACpCpD,KAAA,QAAKmD,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAC5FlD,IAAA,OAAIiD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACvEpD,KAAA,QAAKmD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC/BhD,WAAW,eACVJ,KAAA,SAAMmD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,WAC1B,CAAChD,WAAW,CAAC+D,IAAI,EACtB,CACP,cACDjE,IAAA,WACEgE,OAAO,CAAEtB,cAAe,CACxBO,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACA,CAAC,cAGTlD,IAAA,SAAMiD,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAC5EpD,KAAA,QAAKmD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDpD,KAAA,QAAKmD,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DlD,IAAA,QAAKiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDlD,IAAA,OAAIiD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,CAC7D,CAAC,cAGNpD,KAAA,QAAKmD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlD,IAAA,QAAKiD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDlD,IAAA,QAAKiD,SAAS,CAAC,sGAAsG,CAAAC,QAAA,CAClHhD,WAAW,CAAC+D,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACtC,CAAC,CACH,CAAC,cACNrE,KAAA,QAAKmD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BlD,IAAA,OAAIiD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAEhD,WAAW,CAAC+D,IAAI,CAAK,CAAC,cAC3DjE,IAAA,MAAGiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEhD,WAAW,CAACkE,KAAK,CAAI,CAAC,EACjD,CAAC,cAENtE,KAAA,QAAKmD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpD,KAAA,QAAKmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cAC3CpD,KAAA,SAAAoD,QAAA,EAAOhD,WAAW,CAACmE,GAAG,CAAC,QAAM,EAAM,CAAC,EACjC,CAAC,cACNvE,KAAA,QAAKmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cAC9ClD,IAAA,SAAAkD,QAAA,CAAOhD,WAAW,CAACoE,MAAM,CAAO,CAAC,EAC9B,CAAC,cACNxE,KAAA,QAAKmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC7ClD,IAAA,SAAAkD,QAAA,CAAOhD,WAAW,CAACqE,KAAK,CAAO,CAAC,EAC7B,CAAC,EACH,CAAC,EACH,CAAC,cAGNzE,KAAA,QAAKmD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlD,IAAA,WACEgE,OAAO,CAAEA,CAAA,GAAMhD,YAAY,CAAC,SAAS,CAAE,CACvCiC,SAAS,CAAE,wCACTlC,SAAS,GAAK,SAAS,CACnB,wCAAwC,CACxC,iDAAiD,EACpD,CAAAmC,QAAA,CACJ,sBAED,CAAQ,CAAC,cACTlD,IAAA,WACEgE,OAAO,CAAEA,CAAA,GAAMhD,YAAY,CAAC,SAAS,CAAE,CACvCiC,SAAS,CAAE,wCACTlC,SAAS,GAAK,SAAS,CACnB,0CAA0C,CAC1C,iDAAiD,EACpD,CAAAmC,QAAA,CACJ,qBAED,CAAQ,CAAC,cACTlD,IAAA,WACEgE,OAAO,CAAEA,CAAA,GAAMhD,YAAY,CAAC,eAAe,CAAE,CAC7CiC,SAAS,CAAE,wCACTlC,SAAS,GAAK,eAAe,CACzB,4CAA4C,CAC5C,iDAAiD,EACpD,CAAAmC,QAAA,CACJ,eAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGNpD,KAAA,QAAKmD,SAAS,CAAC,iDAAiD,CAAAC,QAAA,EAE7DnC,SAAS,GAAK,SAAS,eACtBjB,KAAA,QAAAoD,QAAA,eACElD,IAAA,QAAKiD,SAAS,CAAC,6DAA6D,CAAAC,QAAA,cAC1ElD,IAAA,OAAIiD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,CACvE,CAAC,cACNlD,IAAA,QAAKiD,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBpD,KAAA,QAAKmD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDpD,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cAC9DlD,IAAA,MAAGiD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhD,WAAW,CAAC+D,IAAI,CAAI,CAAC,EACnD,CAAC,cACNnE,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,cAClElD,IAAA,MAAGiD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhD,WAAW,CAACkE,KAAK,CAAI,CAAC,EACpD,CAAC,cACNtE,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cACjElD,IAAA,MAAGiD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhD,WAAW,CAACqE,KAAK,CAAI,CAAC,EACpD,CAAC,cACNzE,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,SAAO,CAAG,CAAC,cAC5DlD,IAAA,MAAGiD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhD,WAAW,CAACsE,OAAO,EAAI,qBAAqB,CAAI,CAAC,EAC/E,CAAC,cACN1E,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,KAAG,CAAG,CAAC,cACxDpD,KAAA,MAAGmD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAEhD,WAAW,CAACmE,GAAG,CAAC,QAAM,EAAG,CAAC,EACxD,CAAC,cACNvE,KAAA,QAAAoD,QAAA,eACElD,IAAA,MAAGiD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cAC3DlD,IAAA,MAAGiD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhD,WAAW,CAACoE,MAAM,CAAI,CAAC,EACrD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,CAGAvD,SAAS,GAAK,SAAS,eACtBjB,KAAA,QAAAoD,QAAA,eACElD,IAAA,QAAKiD,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC5ElD,IAAA,OAAIiD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,CACtE,CAAC,cACNlD,IAAA,QAAKiD,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBpD,KAAA,QAAKmD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpD,KAAA,QAAAoD,QAAA,eACClD,IAAA,OAAIiD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1ElD,IAAA,QAAKiD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvChD,WAAW,CAACuE,eAAe,cAC1BzE,IAAA,MAAAkD,QAAA,CAAIhD,WAAW,CAACuE,eAAe,CAAI,CAAC,cAEpCzE,IAAA,MAAGiD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CACpE,CACE,CAAC,EACH,CAAC,cAENpD,KAAA,QAAAoD,QAAA,eACElD,IAAA,OAAIiD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAChFlD,IAAA,QAAKiD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvC9C,mBAAmB,cAClBN,KAAA,QAAAoD,QAAA,eACEpD,KAAA,MAAGmD,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,QAAM,CAAC9C,mBAAmB,CAACsE,oBAAoB,EAAI,CAAC,cAC/E5E,KAAA,MAAAoD,QAAA,EAAG,cAAY,CAAC9C,mBAAmB,CAACgD,WAAW,EAAI,CAAC,cACpDtD,KAAA,MAAAoD,QAAA,EAAG,WAAS,CAAC9C,mBAAmB,CAACuE,OAAO,EAAI,iBAAiB,EAAI,CAAC,EAC/D,CAAC,cAEN3E,IAAA,MAAGiD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAC1E,CACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,CAGAnC,SAAS,GAAK,eAAe,eAC5BjB,KAAA,QAAAoD,QAAA,eACElD,IAAA,QAAKiD,SAAS,CAAC,iEAAiE,CAAAC,QAAA,cAC9ElD,IAAA,OAAIiD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CAChE,CAAC,cACNlD,IAAA,QAAKiD,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjBvC,aAAa,CAAC2C,MAAM,CAAG,CAAC,cACvBxD,KAAA,QAAKmD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlD,IAAA,QAAKiD,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEvC,aAAa,CAAC4C,GAAG,CAAEP,YAAY,eAC9BhD,IAAA,QAEEiD,SAAS,CAAE,wCACTpC,oBAAoB,EAAIA,oBAAoB,CAAC+D,EAAE,GAAK5B,YAAY,CAAC4B,EAAE,CAC/D,gCAAgC,CAChC,kCAAkC,EACrC,CACHZ,OAAO,CAAEA,CAAA,GAAMlD,uBAAuB,CAACkC,YAAY,CAAE,CAAAE,QAAA,cAErDpD,KAAA,QAAKmD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDpD,KAAA,QAAAoD,QAAA,eACElD,IAAA,OAAIiD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEF,YAAY,CAACG,cAAc,CAAK,CAAC,cAC9DrD,KAAA,MAAGmD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,MAAI,CAACF,YAAY,CAACI,WAAW,EAAI,CAAC,EACpE,CAAC,cACNtD,KAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7BF,YAAY,CAACK,SAAS,CAACC,MAAM,CAAC,GAAC,CAACN,YAAY,CAACK,SAAS,CAACC,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,WAAW,EAC5F,CAAC,EACH,CAAC,EAhBDN,YAAY,CAAC4B,EAiBf,CACN,CAAC,CACC,CAAC,cAEN5E,IAAA,QAAKiD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBrC,oBAAoB,cACnBb,IAAA,CAAC8C,mBAAmB,EAACE,YAAY,CAAEnC,oBAAqB,CAAE,CAAC,cAE3Db,IAAA,QAAKiD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDlD,IAAA,MAAGiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,uCAAqC,CAAG,CAAC,CACnE,CACN,CACE,CAAC,EACH,CAAC,cAENlD,IAAA,QAAKiD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDlD,IAAA,MAAGiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,+BAA6B,CAAG,CAAC,CAC3D,CACN,CACE,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CACF,CAAC,cAGPlD,IAAA,WAAQiD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cAC3ClD,IAAA,QAAKiD,SAAS,CAAC,6CAA6C,CAAAC,QAAA,cAC1DpD,KAAA,MAAGmD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,OACxC,CAAC,GAAI,CAAA2B,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,uEACnC,EAAG,CAAC,CACD,CAAC,CACA,CAAC,EACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}