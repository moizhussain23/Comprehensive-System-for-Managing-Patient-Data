{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Dashboard(){var _patientFields$find;const[patients,setPatients]=useState([]);const[viewPatients,setViewPatients]=useState(false);const[modifyPatientTab,setModifyPatientTab]=useState(false);const[editingPatient,setEditingPatient]=useState(null);const[selectedPatient,setSelectedPatient]=useState(null);const[searchPatient,setSearchPatient]=useState({id:\"\",name:\"\"});const[fieldToEdit,setFieldToEdit]=useState(null);const[showLogoutConfirmation,setShowLogoutConfirmation]=useState(false);const[passwordError,setPasswordError]=useState(\"\");const[ageError,setAgeError]=useState(\"\");const[phoneError,setPhoneError]=useState(\"\");const[emailError,setEmailError]=useState(\"\");const[newPatient,setNewPatient]=useState({name:\"\",email:\"\",phone:\"\",age:null,gender:\"\",address:\"\",medical_history:\"\",password:\"\"});const downloadQRCode=()=>{if(!selectedPatient.qr_code){alert(\"QR code not found!\");return;}// Create a temporary anchor element to trigger download\nconst link=document.createElement(\"a\");link.href=selectedPatient.qr_code;// Ensure this contains the correct Base64 QR code\nlink.download=`QR_${selectedPatient.name}.png`;// File name for the download\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);};const[showPassword,setShowPassword]=useState({newPatientPassword:false,currentPassword:false,newPassword:false,confirmPassword:false});// For password change\nconst[passwordData,setPasswordData]=useState({currentPassword:\"\",newPassword:\"\",confirmPassword:\"\"});// Mock receptionist data (would come from auth context in a real app)\nconst[receptionist,setReceptionist]=useState({name:\"\",email:\"\",avatar:\"https://randomuser.me/api/portraits/women/44.jpg\"// Default avatar\n});useEffect(()=>{fetchReceptionistDetails();},[]);const fetchReceptionistDetails=async()=>{try{const response=await fetch(\"http://localhost:5000/api/receptionist\",{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});const data=await response.json();if(!response.ok)throw new Error(data.error||\"Failed to fetch details\");setReceptionist({name:data.name,email:data.email,avatar:data.avatar||\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIf4R5qPKHPNMyAqV-FjS_OTBB8pfUV29Phg&s\"});}catch(error){console.error(\"Error fetching receptionist details:\",error);}};const navigate=useNavigate();// Fetch Patients from Backend on Page Load\nuseEffect(()=>{fetchPatients();},[]);const fetchPatients=async()=>{try{const response=await fetch(\"http://localhost:5000/api/patients\",{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});const data=await response.json();if(!response.ok)throw new Error(data.error||\"Failed to fetch patients\");setPatients(data);// Update UI with all patients\n}catch(error){console.error(\"Error fetching patients:\",error);alert(\"Failed to load patients. Please try again.\");}};// Password validation function\nconst validatePassword=password=>{const passwordRegex=/^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/;return passwordRegex.test(password);};// Age validation function\nconst validateAge=age=>{const ageNum=parseInt(age,10);return!isNaN(ageNum)&&ageNum>=0;};// Phone validation function\nconst validatePhone=phone=>{const phoneRegex=/^\\d{10}$/;return phoneRegex.test(phone);};// Email validation function\nconst validateEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};// Logout Function\nconst handleLogout=()=>{localStorage.removeItem(\"token\");navigate(\"/\");};// Reset Form & View\nconst resetView=()=>{setViewPatients(false);setModifyPatientTab(false);setEditingPatient(null);setSelectedPatient(null);setFieldToEdit(null);setSearchPatient({id:\"\",name:\"\"});setPasswordError(\"\");setAgeError(\"\");setPhoneError(\"\");setEmailError(\"\");setNewPatient({name:\"\",email:\"\",phone:\"\",age:null,gender:\"\",address:\"\",medical_history:\"\",password:\"\"});setPasswordData({currentPassword:\"\",newPassword:\"\",confirmPassword:\"\"});};const openModifyPatientTab=()=>{resetView();// Ensures View Patients is NOT active\nsetModifyPatientTab(true);};// Ensure Form Inputs Are Captured Properly\nconst handleInputChange=e=>{const{name,value}=e.target;if(name===\"password\"){if(value&&!validatePassword(value)){setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");}else{setPasswordError(\"\");}}if(name===\"age\"){if(value&&!validateAge(value)){setAgeError(\"Age must be 0 or greater\");}else{setAgeError(\"\");}}if(name===\"phone\"){if(value&&!validatePhone(value)){setPhoneError(\"Phone number must be exactly 10 digits\");}else{setPhoneError(\"\");}}if(name===\"email\"){if(value&&!validateEmail(value)){setEmailError(\"Please enter a valid email address\");}else{setEmailError(\"\");}}setNewPatient(prev=>({...prev,[name]:value===\"\"?null:value}));};// Create Patient (with validation)\nconst createPatient=async()=>{try{// Validate all fields\nlet hasErrors=false;// Validate age\nif(newPatient.age!==null&&!validateAge(newPatient.age)){setAgeError(\"Age must be 0 or greater\");hasErrors=true;}// Validate email\nif(newPatient.email&&!validateEmail(newPatient.email)){setEmailError(\"Please enter a valid email address\");hasErrors=true;}// Validate phone\nif(newPatient.phone&&!validatePhone(newPatient.phone)){setPhoneError(\"Phone number must be exactly 10 digits\");hasErrors=true;}// Validate password\nif(!newPatient.password){setPasswordError(\"Password is required!\");hasErrors=true;}else if(!validatePassword(newPatient.password)){setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");hasErrors=true;}if(hasErrors){return;}const formattedAge=newPatient.age===\"\"||newPatient.age===null?null:parseInt(newPatient.age,10);const response=await fetch(\"http://localhost:5000/api/patients\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({...newPatient,age:formattedAge})});const data=await response.json();if(!response.ok)throw new Error(data.error||\"Failed to add patient\");fetchPatients();// Refresh patients list\nresetView();alert(\"Patient added successfully!\");}catch(error){console.error(\"Error creating patient:\",error);alert(\"Failed to add patient. Please try again.\");}};// Modify Patient - Find Patient by ID and Name\nconst searchForPatient=()=>{const foundPatient=patients.find(p=>p.id.toString()===searchPatient.id&&p.name.toLowerCase()===searchPatient.name.toLowerCase());if(foundPatient){setEditingPatient(foundPatient);}else{alert(\"No patient found with this ID and Name.\");}};// Handle field value change when editing patient\nconst handleEditingFieldChange=e=>{const{name,value}=e.target;if(name===\"age\"){if(value&&!validateAge(value)){setAgeError(\"Age must be 0 or greater\");}else{setAgeError(\"\");}}if(name===\"phone\"){if(value&&!validatePhone(value)){setPhoneError(\"Phone number must be exactly 10 digits\");}else{setPhoneError(\"\");}}if(name===\"email\"){if(value&&!validateEmail(value)){setEmailError(\"Please enter a valid email address\");}else{setEmailError(\"\");}}setEditingPatient(prev=>({...prev,[name]:value}));};// Handle password change fields\nconst handlePasswordChange=e=>{const{name,value}=e.target;if(name===\"newPassword\"||name===\"confirmPassword\"){if(value&&!validatePassword(value)){setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");}else if(name===\"confirmPassword\"&&passwordData.newPassword!==value){setPasswordError(\"Passwords do not match\");}else{setPasswordError(\"\");}}setPasswordData(prev=>({...prev,[name]:value}));};// Modify Patient (with validation)\nconst updatePatient=async()=>{try{let hasErrors=false;// Validate based on which field is being edited\nif(fieldToEdit===\"age\"&&!validateAge(editingPatient.age)){setAgeError(\"Age must be 0 or greater\");hasErrors=true;}if(fieldToEdit===\"phone\"&&!validatePhone(editingPatient.phone)){setPhoneError(\"Phone number must be exactly 10 digits\");hasErrors=true;}if(fieldToEdit===\"email\"&&!validateEmail(editingPatient.email)){setEmailError(\"Please enter a valid email address\");hasErrors=true;}if(hasErrors){return;}const formattedAge=editingPatient.age?parseInt(editingPatient.age,10):null;const response=await fetch(`http://localhost:5000/api/patients/${editingPatient.id}`,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({...editingPatient,age:formattedAge})});if(!response.ok)throw new Error(\"Failed to update patient\");fetchPatients();resetView();alert(\"Patient updated successfully!\");}catch(error){console.error(\"Error updating patient:\",error);alert(\"Failed to update patient.\");}};// Change patient password (with validation)\nconst updatePatientPassword=async()=>{try{// Validate passwords\nif(passwordData.newPassword!==passwordData.confirmPassword){setPasswordError(\"New passwords don't match!\");return;}if(!passwordData.newPassword||!passwordData.currentPassword){setPasswordError(\"All password fields are required!\");return;}if(!validatePassword(passwordData.newPassword)){setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");return;}const response=await fetch(`http://localhost:5000/api/patients/${editingPatient.id}/password`,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({currentPassword:passwordData.currentPassword,newPassword:passwordData.newPassword})});if(!response.ok){const error=await response.json();throw new Error(error.message||\"Failed to update password\");}resetView();alert(\"Password updated successfully!\");}catch(error){console.error(\"Error updating password:\",error);alert(error.message||\"Failed to update password. Please try again.\");}};// List of patient fields that can be modified\nconst patientFields=[{key:\"name\",label:\"Name\"},{key:\"email\",label:\"Email\"},{key:\"phone\",label:\"Phone\"},{key:\"age\",label:\"Age\"},{key:\"gender\",label:\"Gender\"},{key:\"address\",label:\"Address\"},{key:\"medical_history\",label:\"Medical History\"},{key:\"password\",label:\"Change Password\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white shadow-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Hospital Logo\",className:\"w-15 h-10\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-2 text-2xl font-medium text-gray-900\",children:\"Dashboard\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-3 text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-m font-medium text-gray-900\",children:receptionist.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:receptionist.email})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 border-2 border-blue-500\",children:receptionist.name?receptionist.name.charAt(0).toUpperCase():\"U\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLogoutConfirmation(true),className:\"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 ml-5 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2 \",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),\"Logout\"]})]})})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-4 md:mb-0\",children:\"Receptionist Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-auto bg-white rounded-lg shadow-sm p-3 flex flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:resetView,className:\"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),\"Create Patient\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{resetView();setViewPatients(true);},className:\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 10h16M4 14h16M4 18h16\"})}),\"View Patients\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:openModifyPatientTab,className:\"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})}),\"Modify Patient\"]})]})]}),!viewPatients&&!modifyPatientTab&&!editingPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\",children:\"Create New Patient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:newPatient.name||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:newPatient.email||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"}),emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:emailError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",placeholder:\"Phone (10 digits)\",value:newPatient.phone||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"}),phoneError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:phoneError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",min:\"0\",value:newPatient.age||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"}),ageError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:ageError})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:newPatient.gender||\"\",onChange:handleInputChange,className:`w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all ${newPatient.gender?\"text-black\":\"text-gray-400\"}`,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",className:\"text-grey-400\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",className:\"text-black\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",className:\"text-black\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",className:\"text-black\",children:\"Other\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",value:newPatient.address||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword.newPatientPassword?\"text\":\"password\",name:\"password\",placeholder:\"Password\",value:newPatient.password||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded pr-10 mb-1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-2 text-gray-500\",onMouseDown:()=>setShowPassword({...showPassword,newPatientPassword:true}),onMouseUp:()=>setShowPassword({...showPassword,newPatientPassword:false}),onMouseLeave:()=>setShowPassword({...showPassword,newPatientPassword:false}),onTouchStart:()=>setShowPassword({...showPassword,newPatientPassword:true})// \n,onTouchEnd:()=>setShowPassword({...showPassword,newPatientPassword:false})// \n,children:showPassword.newPatientPassword?/*#__PURE__*/// Eye Open (Password Visible)\n_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:2,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 4.5c-5.8 0-10.5 4.5-10.5 7s4.7 7 10.5 7 10.5-4.5 10.5-7-4.7-7-10.5-7zm0 3c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z\"})}):/*#__PURE__*/// Eye Closed (Password Hidden)\n_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:2,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M3 12s3.5-7 9-7 9 7 9 7-3.5 7-9 7-9-7-9-7zm9-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-6.5 0L3 12m6 6l8.5-8.5m-3.5 3.5L21 12\"})})})]}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:passwordError}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs\",children:\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\"})]})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"medical_history\",placeholder:\"Medical History\",value:newPatient.medical_history||\"\",onChange:handleInputChange,className:\"w-full p-2 border rounded mb-5 mt-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\",rows:\"4\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-2 rounded-lg shadow hover:shadow-lg transition-all\",onClick:createPatient,children:\"Save Patient\"})]}),viewPatients&&!selectedPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\",children:\"Registered Patients\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Medical History\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Details\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:patients.map(patient=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-blue-50 cursor-pointer transition-colors\",onClick:()=>setSelectedPatient(patient),children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2 whitespace-nowrap\",children:patient.id}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2 whitespace-nowrap font-medium text-gray-900\",children:patient.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2 whitespace-nowrap\",children:patient.phone||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2 truncate max-w-xs\",children:patient.medical_history||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2 text-blue-600 hover:text-blue-800 font-medium\",children:\"View\"})]},patient.id))})]})})]}),selectedPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center border-b pb-2 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Patient Details\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded\",children:[\"ID: \",selectedPatient.id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.email||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.phone||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Age\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.age||\"N/A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.gender||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.address||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Medical History\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedPatient.medical_history||\"N/A\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg text-center bg-gray-50 w-48\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-2 font-medium\",children:\"Patient QR Code\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 bg-white border mx-auto flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:selectedPatient.qr_code,alt:\"Patient QR Code\",className:\"w-32 h-32 mx-auto\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mt-2 text-gray-700\",children:\"Scan to access patient data\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:downloadQRCode,className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\",children:\"Download QR\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end w-full\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPatient(null),className:\"bg-gray-100 text-gray-800 px-4 py-2 rounded mr-2 hover:bg-gray-200 transition-colors\",children:\"Back to List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingPatient(selectedPatient);setSelectedPatient(null);setModifyPatientTab(true);},className:\"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\",children:\"Edit Patient\"})]})]})]}),modifyPatientTab&&!editingPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\",children:\"Modify Patient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Patient ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchPatient.id,onChange:e=>setSearchPatient({...searchPatient,id:e.target.value}),className:\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\",placeholder:\"Enter patient ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Patient Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchPatient.name,onChange:e=>setSearchPatient({...searchPatient,name:e.target.value}),className:\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\",placeholder:\"Enter patient name\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:searchForPatient,className:\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg shadow hover:shadow-lg transition-all\",children:\"Search\"})]}),editingPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center border-b pb-2 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Edit Patient\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded\",children:[\"ID: \",editingPatient.id]})]}),fieldToEdit===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-gray-700\",children:\"Select a field to edit:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mb-6\",children:patientFields.map(field=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFieldToEdit(field.key),className:\"bg-white border border-gray-300 rounded-lg p-3 text-left hover:bg-blue-50 hover:border-blue-300 transition-all\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-gray-700 font-medium\",children:field.label}),/*#__PURE__*/_jsx(\"span\",{className:\"block text-gray-500 truncate\",children:field.key===\"password\"?\"••••••••\":editingPatient[field.key]||\"Not set\"})]},field.key))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:resetView,className:\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\",children:\"Cancel\"})})]}):fieldToEdit===\"password\"?/*#__PURE__*/// Password Change Form\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-gray-700\",children:[\"Change Password for \",editingPatient.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Current Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword.currentPassword?\"text\":\"password\",name:\"currentPassword\",value:passwordData.currentPassword,onChange:handlePasswordChange,className:\"w-full p-2 border rounded pr-10\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-2 text-gray-500\",onMouseDown:()=>setShowPassword({...showPassword,currentPassword:true}),onMouseUp:()=>setShowPassword({...showPassword,currentPassword:false}),onMouseLeave:()=>setShowPassword({...showPassword,currentPassword:false}),children:showPassword.currentPassword?\"👁️\":\"👁️‍🗨️\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword.newPassword?\"text\":\"password\",name:\"newPassword\",value:passwordData.newPassword,onChange:handlePasswordChange,className:\"w-full p-2 border rounded pr-10\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-2 text-gray-500\",onMouseDown:()=>setShowPassword({...showPassword,newPassword:true}),onMouseUp:()=>setShowPassword({...showPassword,newPassword:false}),onMouseLeave:()=>setShowPassword({...showPassword,newPassword:false}),children:showPassword.newPassword?\"👁️\":\"👁️‍🗨️\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword.confirmPassword?\"text\":\"password\",name:\"confirmPassword\",value:passwordData.confirmPassword,onChange:handlePasswordChange,className:\"w-full p-2 border rounded pr-10\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-2 text-gray-500\",onMouseDown:()=>setShowPassword({...showPassword,confirmPassword:true}),onMouseUp:()=>setShowPassword({...showPassword,confirmPassword:false}),onMouseLeave:()=>setShowPassword({...showPassword,confirmPassword:false}),children:showPassword.confirmPassword?\"👁️\":\"👁️‍🗨️\"})]}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:passwordError}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs\",children:\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFieldToEdit(null),className:\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updatePatientPassword,className:\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\",children:\"Change Password\"})]})]}):/*#__PURE__*/// Other Fields Edit Form\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-gray-700\",children:[\"Editing \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(_patientFields$find=patientFields.find(f=>f.key===fieldToEdit))===null||_patientFields$find===void 0?void 0:_patientFields$find.label})]}),fieldToEdit===\"gender\"?/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:editingPatient.gender||\"\",onChange:handleEditingFieldChange,className:\"w-full p-2 border rounded mb-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]}):fieldToEdit===\"medical_history\"?/*#__PURE__*/_jsx(\"textarea\",{name:\"medical_history\",value:editingPatient.medical_history||\"\",onChange:handleEditingFieldChange,className:\"w-full p-2 border rounded mb-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\",rows:\"4\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:fieldToEdit===\"age\"?\"number\":\"text\",name:fieldToEdit,value:editingPatient[fieldToEdit]||\"\",onChange:handleEditingFieldChange,className:\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"}),fieldToEdit===\"email\"&&emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:emailError}),fieldToEdit===\"phone\"&&phoneError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:phoneError}),fieldToEdit===\"age\"&&ageError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs\",children:ageError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFieldToEdit(null),className:\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updatePatient,className:\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\",children:\"Save Changes\"})]})]})]})]}),showLogoutConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3\",children:\"Confirm Logout\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-5\",children:\"Are you sure you want to logout from the system?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogoutConfirmation(false),className:\"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\",children:\"Logout\"})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white border-t mt-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-gray-500\",children:[\"\\xA9 \",new Date().getFullYear(),\" Comprehensive System for Managing Patient Data. All rights reserved.\"]})})})]});}","map":{"version":3,"names":["useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_patientFields$find","patients","setPatients","viewPatients","setViewPatients","modifyPatientTab","setModifyPatientTab","editingPatient","setEditingPatient","selectedPatient","setSelectedPatient","searchPatient","setSearchPatient","id","name","fieldToEdit","setFieldToEdit","showLogoutConfirmation","setShowLogoutConfirmation","passwordError","setPasswordError","ageError","setAgeError","phoneError","setPhoneError","emailError","setEmailError","newPatient","setNewPatient","email","phone","age","gender","address","medical_history","password","downloadQRCode","qr_code","alert","link","document","createElement","href","download","body","appendChild","click","removeChild","showPassword","setShowPassword","newPatientPassword","currentPassword","newPassword","confirmPassword","passwordData","setPasswordData","receptionist","setReceptionist","avatar","fetchReceptionistDetails","response","fetch","headers","Authorization","localStorage","getItem","data","json","ok","Error","error","console","navigate","fetchPatients","validatePassword","passwordRegex","test","validateAge","ageNum","parseInt","isNaN","validatePhone","phoneRegex","validateEmail","emailRegex","handleLogout","removeItem","resetView","openModifyPatientTab","handleInputChange","e","value","target","prev","createPatient","hasErrors","formattedAge","method","JSON","stringify","searchForPatient","foundPatient","find","p","toString","toLowerCase","handleEditingFieldChange","handlePasswordChange","updatePatient","updatePatientPassword","message","patientFields","key","label","className","children","src","alt","charAt","toUpperCase","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","onChange","min","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchEnd","rows","map","patient","field","f","Date","getFullYear"],"sources":["D:/Comprehensive System for Managing Patient Data/Comprehensive System for Managing Patient Data/frontend/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Dashboard() {\r\n  const [patients, setPatients] = useState([]);\r\n  const [viewPatients, setViewPatients] = useState(false);\r\n  const [modifyPatientTab, setModifyPatientTab] = useState(false);\r\n  const [editingPatient, setEditingPatient] = useState(null);\r\n  const [selectedPatient, setSelectedPatient] = useState(null);\r\n  const [searchPatient, setSearchPatient] = useState({ id: \"\", name: \"\" });\r\n  const [fieldToEdit, setFieldToEdit] = useState(null);\r\n  const [showLogoutConfirmation, setShowLogoutConfirmation] = useState(false);\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [ageError, setAgeError] = useState(\"\");\r\n  const [phoneError, setPhoneError] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [newPatient, setNewPatient] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    age: null,\r\n    gender: \"\",\r\n    address: \"\",\r\n    medical_history: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const downloadQRCode = () => {\r\n    if (!selectedPatient.qr_code) {\r\n      alert(\"QR code not found!\");\r\n      return;\r\n    }\r\n  \r\n    // Create a temporary anchor element to trigger download\r\n    const link = document.createElement(\"a\");\r\n    link.href = selectedPatient.qr_code; // Ensure this contains the correct Base64 QR code\r\n    link.download = `QR_${selectedPatient.name}.png`; // File name for the download\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n  \r\n  const [showPassword, setShowPassword] = useState({\r\n    newPatientPassword: false,\r\n    currentPassword: false,\r\n    newPassword: false,\r\n    confirmPassword: false,\r\n  });\r\n  \r\n  // For password change\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  \r\n  // Mock receptionist data (would come from auth context in a real app)\r\n  const [receptionist, setReceptionist] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    avatar: \"https://randomuser.me/api/portraits/women/44.jpg\", // Default avatar\r\n  });\r\n  \r\n  \r\n  useEffect(() => {\r\n    fetchReceptionistDetails();\r\n  }, []);\r\n\r\n  const fetchReceptionistDetails = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/receptionist\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) throw new Error(data.error || \"Failed to fetch details\");\r\n\r\n      setReceptionist({\r\n        name: data.name,\r\n        email: data.email,\r\n        avatar: data.avatar || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIf4R5qPKHPNMyAqV-FjS_OTBB8pfUV29Phg&s\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error fetching receptionist details:\", error);\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch Patients from Backend on Page Load\r\n  useEffect(() => {\r\n    fetchPatients();\r\n  }, []);\r\n\r\n  const fetchPatients = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/patients\", {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) throw new Error(data.error || \"Failed to fetch patients\");\r\n\r\n      setPatients(data); // Update UI with all patients\r\n    } catch (error) {\r\n      console.error(\"Error fetching patients:\", error);\r\n      alert(\"Failed to load patients. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Password validation function\r\n  const validatePassword = (password) => {\r\n    const passwordRegex = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/;\r\n    return passwordRegex.test(password);\r\n  };\r\n\r\n  // Age validation function\r\n  const validateAge = (age) => {\r\n    const ageNum = parseInt(age, 10);\r\n    return !isNaN(ageNum) && ageNum >= 0;\r\n  };\r\n\r\n  // Phone validation function\r\n  const validatePhone = (phone) => {\r\n    const phoneRegex = /^\\d{10}$/;\r\n    return phoneRegex.test(phone);\r\n  };\r\n\r\n  // Email validation function\r\n  const validateEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  // Logout Function\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  // Reset Form & View\r\n  const resetView = () => {\r\n    setViewPatients(false);\r\n    setModifyPatientTab(false);\r\n    setEditingPatient(null);\r\n    setSelectedPatient(null);\r\n    setFieldToEdit(null);\r\n    setSearchPatient({ id: \"\", name: \"\" });\r\n    setPasswordError(\"\");\r\n    setAgeError(\"\");\r\n    setPhoneError(\"\");\r\n    setEmailError(\"\");\r\n    setNewPatient({\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      age: null,\r\n      gender: \"\",\r\n      address: \"\",\r\n      medical_history: \"\",\r\n      password: \"\",\r\n    });\r\n    setPasswordData({\r\n      currentPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n    });\r\n  };\r\n\r\n  const openModifyPatientTab = () => {\r\n    resetView(); // Ensures View Patients is NOT active\r\n    setModifyPatientTab(true);\r\n  };\r\n\r\n  // Ensure Form Inputs Are Captured Properly\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === \"password\") {\r\n      if (value && !validatePassword(value)) {\r\n        setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");\r\n      } else {\r\n        setPasswordError(\"\");\r\n      }\r\n    }\r\n\r\n    if (name === \"age\") {\r\n      if (value && !validateAge(value)) {\r\n        setAgeError(\"Age must be 0 or greater\");\r\n      } else {\r\n        setAgeError(\"\");\r\n      }\r\n    }\r\n\r\n    if (name === \"phone\") {\r\n      if (value && !validatePhone(value)) {\r\n        setPhoneError(\"Phone number must be exactly 10 digits\");\r\n      } else {\r\n        setPhoneError(\"\");\r\n      }\r\n    }\r\n\r\n    if (name === \"email\") {\r\n      if (value && !validateEmail(value)) {\r\n        setEmailError(\"Please enter a valid email address\");\r\n      } else {\r\n        setEmailError(\"\");\r\n      }\r\n    }\r\n\r\n    setNewPatient((prev) => ({\r\n      ...prev,\r\n      [name]: value === \"\" ? null : value,\r\n    }));\r\n  };\r\n\r\n  // Create Patient (with validation)\r\n  const createPatient = async () => {\r\n    try {\r\n      // Validate all fields\r\n      let hasErrors = false;\r\n\r\n      // Validate age\r\n      if (newPatient.age !== null && !validateAge(newPatient.age)) {\r\n        setAgeError(\"Age must be 0 or greater\");\r\n        hasErrors = true;\r\n      }\r\n\r\n      // Validate email\r\n      if (newPatient.email && !validateEmail(newPatient.email)) {\r\n        setEmailError(\"Please enter a valid email address\");\r\n        hasErrors = true;\r\n      }\r\n\r\n      // Validate phone\r\n      if (newPatient.phone && !validatePhone(newPatient.phone)) {\r\n        setPhoneError(\"Phone number must be exactly 10 digits\");\r\n        hasErrors = true;\r\n      }\r\n\r\n      // Validate password\r\n      if (!newPatient.password) {\r\n        setPasswordError(\"Password is required!\");\r\n        hasErrors = true;\r\n      } else if (!validatePassword(newPatient.password)) {\r\n        setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");\r\n        hasErrors = true;\r\n      }\r\n\r\n      if (hasErrors) {\r\n        return;\r\n      }\r\n\r\n      const formattedAge = newPatient.age === \"\" || newPatient.age === null ? null : parseInt(newPatient.age, 10);\r\n\r\n      const response = await fetch(\"http://localhost:5000/api/patients\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n        body: JSON.stringify({ ...newPatient, age: formattedAge }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) throw new Error(data.error || \"Failed to add patient\");\r\n\r\n      fetchPatients(); // Refresh patients list\r\n      resetView();\r\n      alert(\"Patient added successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error creating patient:\", error);\r\n      alert(\"Failed to add patient. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Modify Patient - Find Patient by ID and Name\r\n  const searchForPatient = () => {\r\n    const foundPatient = patients.find(\r\n      (p) => p.id.toString() === searchPatient.id && p.name.toLowerCase() === searchPatient.name.toLowerCase()\r\n    );\r\n\r\n    if (foundPatient) {\r\n      setEditingPatient(foundPatient);\r\n    } else {\r\n      alert(\"No patient found with this ID and Name.\");\r\n    }\r\n  };\r\n\r\n  // Handle field value change when editing patient\r\n  const handleEditingFieldChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    if (name === \"age\") {\r\n      if (value && !validateAge(value)) {\r\n        setAgeError(\"Age must be 0 or greater\");\r\n      } else {\r\n        setAgeError(\"\");\r\n      }\r\n    }\r\n    \r\n    if (name === \"phone\") {\r\n      if (value && !validatePhone(value)) {\r\n        setPhoneError(\"Phone number must be exactly 10 digits\");\r\n      } else {\r\n        setPhoneError(\"\");\r\n      }\r\n    }\r\n\r\n    if (name === \"email\") {\r\n      if (value && !validateEmail(value)) {\r\n        setEmailError(\"Please enter a valid email address\");\r\n      } else {\r\n        setEmailError(\"\");\r\n      }\r\n    }\r\n    \r\n    setEditingPatient(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Handle password change fields\r\n  const handlePasswordChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    if (name === \"newPassword\" || name === \"confirmPassword\") {\r\n      if (value && !validatePassword(value)) {\r\n        setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");\r\n      } else if (name === \"confirmPassword\" && passwordData.newPassword !== value) {\r\n        setPasswordError(\"Passwords do not match\");\r\n      } else {\r\n        setPasswordError(\"\");\r\n      }\r\n    }\r\n    \r\n    setPasswordData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Modify Patient (with validation)\r\n  const updatePatient = async () => {\r\n    try {\r\n      let hasErrors = false;\r\n\r\n      // Validate based on which field is being edited\r\n      if (fieldToEdit === \"age\" && !validateAge(editingPatient.age)) {\r\n        setAgeError(\"Age must be 0 or greater\");\r\n        hasErrors = true;\r\n      }\r\n      \r\n      if (fieldToEdit === \"phone\" && !validatePhone(editingPatient.phone)) {\r\n        setPhoneError(\"Phone number must be exactly 10 digits\");\r\n        hasErrors = true;\r\n      }\r\n      \r\n      if (fieldToEdit === \"email\" && !validateEmail(editingPatient.email)) {\r\n        setEmailError(\"Please enter a valid email address\");\r\n        hasErrors = true;\r\n      }\r\n      \r\n      if (hasErrors) {\r\n        return;\r\n      }\r\n      \r\n      const formattedAge = editingPatient.age ? parseInt(editingPatient.age, 10) : null;\r\n      const response = await fetch(`http://localhost:5000/api/patients/${editingPatient.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n        body: JSON.stringify({ ...editingPatient, age: formattedAge }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Failed to update patient\");\r\n\r\n      fetchPatients();\r\n      resetView();\r\n      alert(\"Patient updated successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error updating patient:\", error);\r\n      alert(\"Failed to update patient.\");\r\n    }\r\n  };\r\n\r\n  // Change patient password (with validation)\r\n  const updatePatientPassword = async () => {\r\n    try {\r\n      // Validate passwords\r\n      if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n        setPasswordError(\"New passwords don't match!\");\r\n        return;\r\n      }\r\n\r\n      if (!passwordData.newPassword || !passwordData.currentPassword) {\r\n        setPasswordError(\"All password fields are required!\");\r\n        return;\r\n      }\r\n\r\n      if (!validatePassword(passwordData.newPassword)) {\r\n        setPasswordError(\"Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`http://localhost:5000/api/patients/${editingPatient.id}/password`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n        body: JSON.stringify({\r\n          currentPassword: passwordData.currentPassword,\r\n          newPassword: passwordData.newPassword,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.message || \"Failed to update password\");\r\n      }\r\n\r\n      resetView();\r\n      alert(\"Password updated successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error updating password:\", error);\r\n      alert(error.message || \"Failed to update password. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // List of patient fields that can be modified\r\n  const patientFields = [\r\n    { key: \"name\", label: \"Name\" },\r\n    { key: \"email\", label: \"Email\" },\r\n    { key: \"phone\", label: \"Phone\" },\r\n    { key: \"age\", label: \"Age\" },\r\n    { key: \"gender\", label: \"Gender\" },\r\n    { key: \"address\", label: \"Address\" },\r\n    { key: \"medical_history\", label: \"Medical History\" },\r\n    { key: \"password\", label: \"Change Password\" }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* Top Navigation Bar with improved styling */}\r\n      <nav className=\"bg-white shadow-md\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0 flex items-center\">\r\n                <img src=\"/logo.png\" alt=\"Hospital Logo\" className=\"w-15 h-10\" />\r\n                <span className=\"px-3 py-2 text-2xl font-medium text-gray-900\">Dashboard</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0 relative\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"mr-3 text-right\">\r\n                    <p className=\"text-m font-medium text-gray-900\">{receptionist.name}</p>\r\n                    <p className=\"text-xs text-gray-500\">{receptionist.email}</p>\r\n                  </div>\r\n                  <div className=\"relative flex items-center\">\r\n                    <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 border-2 border-blue-500\">\r\n                    {receptionist.name ? receptionist.name.charAt(0).toUpperCase() : \"U\"}\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => setShowLogoutConfirmation(true)}\r\n                    className=\"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 ml-5 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\"\r\n                  >\r\n                    <svg className=\"w-4 h-4 mr-2 \" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                    </svg>\r\n                    Logout\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-4 md:mb-0\">Receptionist Dashboard</h1>\r\n          \r\n          {/* Action Buttons Card with improved styling */}\r\n          <div className=\"w-full md:w-auto bg-white rounded-lg shadow-sm p-3 flex flex-wrap gap-3\">\r\n            <button \r\n              onClick={resetView} \r\n              className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\"\r\n            >\r\n              <svg className=\"w-5 h-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n              </svg>\r\n              Create Patient\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                resetView();\r\n                setViewPatients(true);\r\n              }} \r\n              className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\"\r\n            >\r\n              <svg className=\"w-5 h-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\r\n              </svg>\r\n              View Patients\r\n            </button>\r\n            <button \r\n              onClick={openModifyPatientTab} \r\n              className=\"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all flex items-center\"\r\n            >\r\n              <svg className=\"w-5 h-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n              </svg>\r\n              Modify Patient\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Create Patient Form with validation */}\r\n        {!viewPatients && !modifyPatientTab && !editingPatient && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <h2 className=\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\">Create New Patient</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <input \r\n                  type=\"text\" \r\n                  name=\"name\" \r\n                  placeholder=\"Name\" \r\n                  value={newPatient.name || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n                />\r\n              </div>\r\n              <div>\r\n                <input \r\n                  type=\"email\" \r\n                  name=\"email\" \r\n                  placeholder=\"Email\" \r\n                  value={newPatient.email || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n                />\r\n                {emailError && <p className=\"text-red-500 text-xs\">{emailError}</p>}\r\n              </div>\r\n              <div>\r\n                <input \r\n                  type=\"text\" \r\n                  name=\"phone\" \r\n                  placeholder=\"Phone (10 digits)\" \r\n                  value={newPatient.phone || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n                />\r\n                {phoneError && <p className=\"text-red-500 text-xs\">{phoneError}</p>}\r\n              </div>\r\n              <div>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"age\" \r\n                  placeholder=\"Age\" \r\n                  min=\"0\"\r\n                  value={newPatient.age || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n                />\r\n                {ageError && <p className=\"text-red-500 text-xs\">{ageError}</p>}\r\n              </div>\r\n              <div>\r\n                <select \r\n                  name=\"gender\" \r\n                  value={newPatient.gender || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className={`w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all ${newPatient.gender ? \"text-black\" : \"text-gray-400\"}`}\r\n                >\r\n                  <option value=\"\" className=\"text-grey-400\">Select Gender</option>\r\n                  <option value=\"Male\" className=\"text-black\">Male</option>\r\n                  <option value=\"Female\" className=\"text-black\">Female</option>\r\n                  <option value=\"Other\" className=\"text-black\">Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <input \r\n                  type=\"text\" \r\n                  name=\"address\" \r\n                  placeholder=\"Address\" \r\n                  value={newPatient.address || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded mb-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n                />\r\n              </div>\r\n              <div>\r\n              <div className=\"relative\">\r\n                <input \r\n                  type={showPassword.newPatientPassword ? \"text\" : \"password\"} \r\n                  name=\"password\" \r\n                  placeholder=\"Password\" \r\n                  value={newPatient.password || \"\"} \r\n                  onChange={handleInputChange} \r\n                  className=\"w-full p-2 border rounded pr-10 mb-1\"\r\n                />\r\n                \r\n                {/* Eye Icon for Password Visibility Toggle */}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute right-2 top-2 text-gray-500\"\r\n                  onMouseDown={() => setShowPassword({ ...showPassword, newPatientPassword: true })}\r\n                  onMouseUp={() => setShowPassword({ ...showPassword, newPatientPassword: false })}\r\n                  onMouseLeave={() => setShowPassword({ ...showPassword, newPatientPassword: false })}\r\n                  onTouchStart={() => setShowPassword({ ...showPassword, newPatientPassword: true })}  // \r\n                  onTouchEnd={() => setShowPassword({ ...showPassword, newPatientPassword: false })}  // \r\n                >\r\n                  {showPassword.newPatientPassword ? (\r\n                    // Eye Open (Password Visible)\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      strokeWidth={2}\r\n                      stroke=\"currentColor\"\r\n                      className=\"w-6 h-6\"\r\n                    >\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5c-5.8 0-10.5 4.5-10.5 7s4.7 7 10.5 7 10.5-4.5 10.5-7-4.7-7-10.5-7zm0 3c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z\" />\r\n                    </svg>\r\n                  ) : (\r\n                    // Eye Closed (Password Hidden)\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      strokeWidth={2}\r\n                      stroke=\"currentColor\"\r\n                      className=\"w-6 h-6\"\r\n                    >\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 12s3.5-7 9-7 9 7 9 7-3.5 7-9 7-9-7-9-7zm9-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-6.5 0L3 12m6 6l8.5-8.5m-3.5 3.5L21 12\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n                {passwordError && <p className=\"text-red-500 text-xs\">{passwordError}</p>}\r\n                <p className=\"text-gray-500 text-xs\">Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character</p>\r\n              </div>\r\n            </div>\r\n            <textarea \r\n              name=\"medical_history\" \r\n              placeholder=\"Medical History\" \r\n              value={newPatient.medical_history || \"\"} \r\n              onChange={handleInputChange} \r\n              className=\"w-full p-2 border rounded mb-5 mt-3 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\" \r\n              rows=\"4\"\r\n            />\r\n            <button \r\n              className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-2 rounded-lg shadow hover:shadow-lg transition-all\"\r\n              onClick={createPatient}\r\n            >\r\n              Save Patient\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* View Patients Table with improved styling */}\r\n        {viewPatients && !selectedPatient && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <h2 className=\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\">Registered Patients</h2>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full border-collapse\">\r\n                <thead>\r\n                  <tr className=\"bg-gray-50\">\r\n                    <th className=\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">ID</th>\r\n                    <th className=\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">Name</th>\r\n                    <th className=\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">Contact</th>\r\n                    <th className=\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">Medical History</th>\r\n                    <th className=\"border p-2 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">Details</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {patients.map((patient) => (\r\n                    <tr key={patient.id} className=\"hover:bg-blue-50 cursor-pointer transition-colors\" onClick={() => setSelectedPatient(patient)}>\r\n                      <td className=\"border p-2 whitespace-nowrap\">{patient.id}</td>\r\n                      <td className=\"border p-2 whitespace-nowrap font-medium text-gray-900\">{patient.name}</td>\r\n                      <td className=\"border p-2 whitespace-nowrap\">{patient.phone || \"N/A\"}</td>\r\n                      <td className=\"border p-2 truncate max-w-xs\">{patient.medical_history || \"N/A\"}</td>\r\n                      <td className=\"border p-2 text-blue-600 hover:text-blue-800 font-medium\">View</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Detailed Patient View with improved styling */}\r\n        {selectedPatient && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <div className=\"flex justify-between items-center border-b pb-2 mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-gray-800\">Patient Details</h2>\r\n              <span className=\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded\">ID: {selectedPatient.id}</span>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n              <div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Name</p>\r\n                  <p className=\"font-medium\">{selectedPatient.name}</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Email</p>\r\n                  <p className=\"font-medium\">{selectedPatient.email || \"N/A\"}</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Phone</p>\r\n                  <p className=\"font-medium\">{selectedPatient.phone || \"N/A\"}</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Age</p>\r\n                  <p className=\"font-medium\">{selectedPatient.age || \"N/A\"}</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Gender</p>\r\n                  <p className=\"font-medium\">{selectedPatient.gender || \"N/A\"}</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Address</p>\r\n                  <p className=\"font-medium\">{selectedPatient.address || \"N/A\"}</p>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-sm text-gray-500\">Medical History</p>\r\n                  <p className=\"font-medium\">{selectedPatient.medical_history || \"N/A\"}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* QR Code Section */}\r\n            <div className=\"flex justify-center mb-6\">\r\n              <div className=\"p-4 border rounded-lg text-center bg-gray-50 w-48\">\r\n                <p className=\"text-gray-700 mb-2 font-medium\">Patient QR Code</p>\r\n                <div className=\"w-32 h-32 bg-white border mx-auto flex items-center justify-center\">\r\n                  <img \r\n                  src={selectedPatient.qr_code} \r\n                  alt=\"Patient QR Code\" \r\n                  className=\"w-32 h-32 mx-auto\"\r\n                  />\r\n                </div>\r\n\t\t<div className=\"text-sm mt-2 text-gray-700\">Scan to access patient data</div>\r\n              </div>\r\n            </div>\r\n            \r\n\r\n            <div className=\"flex flex-col items-center\">\r\n              {/* Download QR Button (Now Properly Aligned Left) */}\r\n              <button\r\n                onClick={downloadQRCode}\r\n                className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\"\r\n              >\r\n                Download QR\r\n              </button>\r\n\r\n              <div className=\"flex justify-end w-full\">\r\n                {/* Back to List Button */}\r\n                <button\r\n                  onClick={() => setSelectedPatient(null)}\r\n                  className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded mr-2 hover:bg-gray-200 transition-colors\"\r\n                >\r\n                  Back to List\r\n                </button>\r\n\r\n                {/* Edit Patient Button */}\r\n                <button\r\n                  onClick={() => {\r\n                    setEditingPatient(selectedPatient);\r\n                    setSelectedPatient(null);\r\n                    setModifyPatientTab(true);\r\n                  }}\r\n                  className=\"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\"\r\n                >\r\n                  Edit Patient\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Modify Patient Search */}\r\n        {modifyPatientTab && !editingPatient && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <h2 className=\"text-xl font-semibold mb-4 text-gray-800 border-b pb-2\">Modify Patient</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Patient ID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchPatient.id}\r\n                  onChange={(e) => setSearchPatient({ ...searchPatient, id: e.target.value })}\r\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"\r\n                  placeholder=\"Enter patient ID\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Patient Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchPatient.name}\r\n                  onChange={(e) => setSearchPatient({ ...searchPatient, name: e.target.value })}\r\n                  className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"\r\n                  placeholder=\"Enter patient name\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={searchForPatient}\r\n              className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg shadow hover:shadow-lg transition-all\"\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Modify Patient Form */}\r\n        {editingPatient && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n            <div className=\"flex justify-between items-center border-b pb-2 mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-gray-800\">Edit Patient</h2>\r\n              <span className=\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded\">ID: {editingPatient.id}</span>\r\n            </div>\r\n\r\n            {fieldToEdit === null ? (\r\n              <>\r\n                <p className=\"mb-4 text-gray-700\">Select a field to edit:</p>\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mb-6\">\r\n                  {patientFields.map((field) => (\r\n                    <button\r\n                      key={field.key}\r\n                      onClick={() => setFieldToEdit(field.key)}\r\n                      className=\"bg-white border border-gray-300 rounded-lg p-3 text-left hover:bg-blue-50 hover:border-blue-300 transition-all\"\r\n                    >\r\n                      <span className=\"block text-gray-700 font-medium\">{field.label}</span>\r\n                      <span className=\"block text-gray-500 truncate\">\r\n                        {field.key === \"password\" ? \"••••••••\" : editingPatient[field.key] || \"Not set\"}\r\n                      </span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                <div className=\"flex justify-end\">\r\n                  <button\r\n                    onClick={resetView}\r\n                    className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : fieldToEdit === \"password\" ? (\r\n              // Password Change Form\r\n              <div>\r\n                <p className=\"mb-4 text-gray-700\">Change Password for {editingPatient.name}</p>\r\n                <div className=\"space-y-3 mb-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Current Password</label>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type={showPassword.currentPassword ? \"text\" : \"password\"}\r\n                        name=\"currentPassword\"\r\n                        value={passwordData.currentPassword}\r\n                        onChange={handlePasswordChange}\r\n                        className=\"w-full p-2 border rounded pr-10\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"absolute right-2 top-2 text-gray-500\"\r\n                        onMouseDown={() => setShowPassword({ ...showPassword, currentPassword: true })}\r\n                        onMouseUp={() => setShowPassword({ ...showPassword, currentPassword: false })}\r\n                        onMouseLeave={() => setShowPassword({ ...showPassword, currentPassword: false })}\r\n                      >\r\n                        {showPassword.currentPassword ? \"👁️\" : \"👁️‍🗨️\"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">New Password</label>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type={showPassword.newPassword ? \"text\" : \"password\"}\r\n                        name=\"newPassword\"\r\n                        value={passwordData.newPassword}\r\n                        onChange={handlePasswordChange}\r\n                        className=\"w-full p-2 border rounded pr-10\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"absolute right-2 top-2 text-gray-500\"\r\n                        onMouseDown={() => setShowPassword({ ...showPassword, newPassword: true })}\r\n                        onMouseUp={() => setShowPassword({ ...showPassword, newPassword: false })}\r\n                        onMouseLeave={() => setShowPassword({ ...showPassword, newPassword: false })}\r\n                      >\r\n                        {showPassword.newPassword ? \"👁️\" : \"👁️‍🗨️\"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Confirm New Password</label>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type={showPassword.confirmPassword ? \"text\" : \"password\"}\r\n                        name=\"confirmPassword\"\r\n                        value={passwordData.confirmPassword}\r\n                        onChange={handlePasswordChange}\r\n                        className=\"w-full p-2 border rounded pr-10\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"absolute right-2 top-2 text-gray-500\"\r\n                        onMouseDown={() => setShowPassword({ ...showPassword, confirmPassword: true })}\r\n                        onMouseUp={() => setShowPassword({ ...showPassword, confirmPassword: false })}\r\n                        onMouseLeave={() => setShowPassword({ ...showPassword, confirmPassword: false })}\r\n                      >\r\n                        {showPassword.confirmPassword ? \"👁️\" : \"👁️‍🗨️\"}\r\n                      </button>\r\n                    </div>\r\n                    {passwordError && <p className=\"text-red-500 text-xs\">{passwordError}</p>}\r\n                    <p className=\"text-gray-500 text-xs\">Password must contain at least 8 characters, 1 uppercase letter, 1 number, and 1 special character</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-end space-x-2\">\r\n                  <button\r\n                    onClick={() => setFieldToEdit(null)}\r\n                    className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\"\r\n                  >\r\n                    Back\r\n                  </button>\r\n                  <button\r\n                    onClick={updatePatientPassword}\r\n                    className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\"\r\n                  >\r\n                    Change Password\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              // Other Fields Edit Form\r\n              <div>\r\n                <p className=\"mb-4 text-gray-700\">\r\n                  Editing <span className=\"font-medium\">{patientFields.find((f) => f.key === fieldToEdit)?.label}</span>\r\n                </p>\r\n                {fieldToEdit === \"gender\" ? (\r\n                  <select\r\n                    name=\"gender\"\r\n                    value={editingPatient.gender || \"\"}\r\n                    onChange={handleEditingFieldChange}\r\n                    className=\"w-full p-2 border rounded mb-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"\r\n                  >\r\n                    <option value=\"\">Select Gender</option>\r\n                    <option value=\"Male\">Male</option>\r\n                    <option value=\"Female\">Female</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </select>\r\n                ) : fieldToEdit === \"medical_history\" ? (\r\n                  <textarea\r\n                    name=\"medical_history\"\r\n                    value={editingPatient.medical_history || \"\"}\r\n                    onChange={handleEditingFieldChange}\r\n                    className=\"w-full p-2 border rounded mb-4 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"\r\n                    rows=\"4\"\r\n                  />\r\n                ) : (\r\n                  <div>\r\n                    <input\r\n                      type={fieldToEdit === \"age\" ? \"number\" : \"text\"}\r\n                      name={fieldToEdit}\r\n                      value={editingPatient[fieldToEdit] || \"\"}\r\n                      onChange={handleEditingFieldChange}\r\n                      className=\"w-full p-2 border rounded mb-1 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 outline-none transition-all\"\r\n                    />\r\n                    {(fieldToEdit === \"email\" && emailError) && <p className=\"text-red-500 text-xs\">{emailError}</p>}\r\n                    {(fieldToEdit === \"phone\" && phoneError) && <p className=\"text-red-500 text-xs\">{phoneError}</p>}\r\n                    {(fieldToEdit === \"age\" && ageError) && <p className=\"text-red-500 text-xs\">{ageError}</p>}\r\n                  </div>\r\n                )}\r\n                <div className=\"flex justify-end space-x-2 mt-4\">\r\n                  <button\r\n                    onClick={() => setFieldToEdit(null)}\r\n                    className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 transition-colors\"\r\n                  >\r\n                    Back\r\n                  </button>\r\n                  <button\r\n                    onClick={updatePatient}\r\n                    className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\"\r\n                  >\r\n                    Save Changes\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Logout Confirmation Modal */}\r\n      {showLogoutConfirmation && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\r\n            <h3 className=\"text-xl font-semibold mb-3\">Confirm Logout</h3>\r\n            <p className=\"text-gray-600 mb-5\">Are you sure you want to logout from the system?</p>\r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirmation(false)}\r\n                className=\"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded hover:shadow-md transition-all\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Footer */}\r\n      <footer className=\"bg-white border-t mt-auto\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <p className=\"text-center text-sm text-gray-500\">\r\n            &copy; {new Date().getFullYear()} Comprehensive System for Managing Patient Data. All rights reserved.\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n  \r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}